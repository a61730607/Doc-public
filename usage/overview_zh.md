# Pet整体介绍

Pet集合了人工智能领域内包括图像、语音、文本、视频等多个主要的任务的Python实现，通过简单的字符串控制，可以灵活地使用不同的网络结构、算法、优化策略训练各种基于深度学习视觉任务的神经网络模型。

在使用教程介绍之前，本文将对Pet理念及目录结构做简要介绍。。

## Pet理念

Pet一体化构建构建理念，抽象出神经网络解决各类任务的主要流程，凝练各种任务的通用模块，采用统一标准一体化构建深度学习任务，让各个任务拥有统一的构建、训练、推理流程。这种一体化的构建方式是Pet框架的主要特点，这个特点使用Pet具有逻辑简单、通用性强、便于迁移拓展的优势。Pet的构建逻辑可以用来规范用户进行研究、工程、部署等行为的规则。

## 目录结构

Pet主要的目录结构如下所示：

```
Pet-dev   #工程地址
|- cfgs # 配置文件
	|- vision   
	|- tasks
	|- projects
|- pet  # Pet平台代码
	|- lib    
	|- vision
	|- tasks
	|- projects
|- tools # 脚本工具
|- ckpts # 模型保存目录
|- tests # 测试脚本
|- data  # 存放数据集
```

cfgs、pet、ckpts的二级目录均遵循Pet理念中的任务分类，分别设置vision、tasks、projects目录。

- `cfgs/vision` 中的配置文件根据数据集进行划分。
- `pet`目录的`lib`存放各个任务的通用可复用代码，包括数据加载模型、基础模型构建、优化迭代设置等，`vision`存放仅视觉任务使用的代码，`projects`是第三方模块，暂时未统一到Pet的够一构建框架中。

tools、tests 存放启动和测试的脚本，data存放实验用的数据。

### 配置系统

Pet有一个非常强大的配置系统。通过这套配置系统，Pet可以控制所有的参数，包括模型结构、训练、测试、可视化等，Pet的配置系统可以管理所有支持的深度学习任务。具体介绍可参考[配置系统](../usage/configs_zh.md)。

### 任务分类

为将多种深度学习任务集成到Pet平台，同时保持代码的整洁性，Pet的许多目录和模块是基于任务进行分类的。Pet目前主要支持视觉任务，同时由于基于任务分类的理念，Pet保留了较强的可扩展性。为使目录及模块具备更强的逻辑与可读性，Pet使用两级分类模式。

- **vision**：视觉相关任务，遵循统一的流程。
  - 分类 **cl**a**s**sification （cls）
  - 检测 **det**ection （det）
  - 实例分割 **ins**tance **seg**mentation （insseg）
  - 语义分割 **sem**antic **seg**mentation （semsag）
  - 全精分割 **pan**optic **seg**mentation （panseg）
- **tasks**：基于某种具体任务，如OCR。由于任务具有一定复杂性，难以直接使用统一的vision进行模型构建或使用。
- **projects**：基于某种项目，如densepose。

### 模型构建

在vision中，所有任务的模型遵循统一的构建流程。视觉模型可大致分为三个部分：骨干网络Backbone、特征增强模块Neck、任务头Head。其中骨干网络是所有模型必须具备的，特征增强模块可选择，任务头是基于任务而引入的结构。这三个部分中，仅任务头与任务相关，所以在Pet中，为集成多种视觉任务，为每种任务构建一个统一的类进行管理。具体的模型构建流程请参考 [模型构建](../usage/model_building_zh.md)

- 

## 开发规范

强烈建议您遵循Pet理念及结构对Pet进行开发，这有助于代码风格的统一及整洁。 开发贡献代码请参照[开发规范](../../.md)

